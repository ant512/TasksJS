<html>
<head>
<script src="workingweek.js"></script>
<script src="tasks.js"></script>
<script>

// Define a working week
var week = new WorkingWeek.Week();

week.addShift(WorkingWeek.DayOfWeek.Monday, 9, 30, 0, 0, new WorkingWeek.TimeSpan(0, 3, 0, 0, 0));
week.addShift(WorkingWeek.DayOfWeek.Monday, 13, 30, 0, 0, new WorkingWeek.TimeSpan(0, 4, 0, 0, 0));

week.addShift(WorkingWeek.DayOfWeek.Tuesday, 9, 30, 0, 0, new WorkingWeek.TimeSpan(0, 3, 0, 0, 0));
week.addShift(WorkingWeek.DayOfWeek.Tuesday, 13, 30, 0, 0, new WorkingWeek.TimeSpan(0, 4, 0, 0, 0));

week.addShift(WorkingWeek.DayOfWeek.Wednesday, 9, 30, 0, 0, new WorkingWeek.TimeSpan(0, 3, 0, 0, 0));
week.addShift(WorkingWeek.DayOfWeek.Wednesday, 13, 30, 0, 0, new WorkingWeek.TimeSpan(0, 4, 0, 0, 0));

week.addShift(WorkingWeek.DayOfWeek.Thursday, 9, 30, 0, 0, new WorkingWeek.TimeSpan(0, 3, 0, 0, 0));
week.addShift(WorkingWeek.DayOfWeek.Thursday, 13, 30, 0, 0, new WorkingWeek.TimeSpan(0, 4, 0, 0, 0));

week.addShift(WorkingWeek.DayOfWeek.Friday, 9, 30, 0, 0, new WorkingWeek.TimeSpan(0, 3, 0, 0, 0));
week.addShift(WorkingWeek.DayOfWeek.Friday, 13, 30, 0, 0, new WorkingWeek.TimeSpan(0, 4, 0, 0, 0));

// Create simple task set
var task1 = new Tasks.Task("Task 1", 0, week, 1);
var task2 = new Tasks.Task("Task 2", 3600000, week, 2);
var task3 = new Tasks.Task("Task 3", 3600000, week, 3);
var task4 = new Tasks.Task("Task 4", 3600000, week, 4);

var task1_1 = new Tasks.Task("Task 1.1", 3600000, week, 1);
var task1_2 = new Tasks.Task("Task 1.2", 3600000, week, 2);

task2.addDependency(new Tasks.FinishToStartDependency(task1));

task1_2.addDependency(new Tasks.FinishToStartDependency(task1_1));

task3.addDependency(new Tasks.FinishToFinishDependency(task2));

task4.addDependency(new Tasks.FixedStartDependency(new Date(2011, 0, 1, 9, 30, 0, 0)));

var taskList = new Array();

taskList.push(task1);
taskList.push(task2);
taskList.push(task3);
taskList.push(task4);

task1.addChild(task1_1);
task1.addChild(task1_2);




// Calculate task set dates
var calc = new Tasks.DateCalculator(taskList);
calc.recalculateDates(new Date());

alertTaskArray(taskList);

taskList[1].getAllTaskDependencies();


function alertTaskArray(tasks) {
	var str = "";
	for (var i in tasks) {
		str += tasks[i].getName() + ': ' + tasks[i].getStartDate() + ' - ' + tasks[i].getEndDate()+ '\n';
		
		for (var j in tasks[i].children) {
			str += tasks[i].children[j].getName() + ': ' + tasks[i].children[j].getStartDate() + ' - ' + tasks[i].children[j].getEndDate() + '\n';
		}
	}
	alert(str);
}

</script>
</head>

<body>

</body>
</html>